function u(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}}function y(){this.I=!1;this.u=null;this.L=void 0;this.i=1;this.Z=this.da=0;this.F=null}function z(a){if(a.I)throw new TypeError("Generator is already running");a.I=!0}y.prototype.J=function(a){this.L=a};y.prototype.K=function(a){this.F={ha:a,ia:!0};this.i=this.da||this.Z};y.prototype["return"]=function(a){this.F={"return":a};this.i=this.Z};function A(a,b,c){a.i=c;return{value:b}}
function B(a){this.g=new y;this.la=a}B.prototype.J=function(a){z(this.g);if(this.g.u)return D(this,this.g.u.next,a,this.g.J);this.g.J(a);return E(this)};function F(a,b){z(a.g);var c=a.g.u;if(c)return D(a,"return"in c?c["return"]:function(d){return{value:d,done:!0}},b,a.g["return"]);a.g["return"](b);return E(a)}B.prototype.K=function(a){z(this.g);if(this.g.u)return D(this,this.g.u["throw"],a,this.g.J);this.g.K(a);return E(this)};
function D(a,b,c,d){try{var f=b.call(a.g.u,c);if(!(f instanceof Object))throw new TypeError("Iterator result "+f+" is not an object");if(!f.done)return a.g.I=!1,f;var e=f.value}catch(g){return a.g.u=null,a.g.K(g),E(a)}a.g.u=null;d.call(a.g,e);return E(a)}function E(a){for(;a.g.i;)try{var b=a.la(a.g);if(b)return a.g.I=!1,{value:b.value,done:!1}}catch(c){a.g.L=void 0,a.g.K(c)}a.g.I=!1;if(a.g.F){b=a.g.F;a.g.F=null;if(b.ia)throw b.ha;return{value:b["return"],done:!0}}return{value:void 0,done:!0}}
function G(a){this.next=function(b){return a.J(b)};this["throw"]=function(b){return a.K(b)};this["return"]=function(b){return F(a,b)};this[Symbol.iterator]=function(){return this}}function H(a){function b(d){return a.next(d)}function c(d){return a["throw"](d)}return new Promise(function(d,f){function e(g){g.done?d(g.value):Promise.resolve(g.value).then(b,c).then(e,f)}e(a.next())})}function I(a){return H(new G(new B(a)))}function J(a,b){var c=a.B,d=a.v,f=c*d;return{B:(c+d)*(c-d)+b.B,v:f+f+b.v}}
function K(a){var b=a.B;a=a.v;return b*b+a*a};function L(a,b){function c(p){p/=1E3;return 0===p?Infinity:Math.floor(1/p*1E3)/1E3}function d(p,m){return function(){for(var n=0;n<m;n++)if(!p())return!1;return!0}}var f=performance.now(),e=performance.now(),g=1,l=0,k=0,h=0;(function m(){var n;return I(function(v){if(40>c(l))h++,f=e,e=performance.now(),k+=e-f,l=k/h,g*=.85,g-=h,g=Math.floor(g),1>g&&(g=1);else{var t=d(a,g);h=0;f=performance.now();t=t();e=performance.now();l=k=e-f;n=t;if(!n)return v["return"]();40<c(l)&&g++}b(l,c(l),g,h);setTimeout(m,
0);v.i=0})})();return function(){f=performance.now();e=performance.now();g=1;h=k=l=0}}function M(){return new Promise(function(a){requestAnimationFrame(a)})}function O(a,b,c,d){function f(){if(e<b.length){var l=b[e][0],k=b[e][1],h=b[e][2]-l,p=b[e][3]-k;c.fillStyle=a(l,k);c.fillRect(l,k,h,p);e++;g=!1}else g=!0;return!0}var e,g;return I(function(l){e=0;g=!1;return l["return"]({j:function(){e=0},N:L(f,function(k,h,p,m){d(k,h,p,m,g)})})})}function P(a,b,c,d){return(c-d)/(0-b)*(a-0)+c}
function Q(a,b,c){var d,f,e,g,l,k,h,p,m;return I(function(n){switch(n.i){case 1:d=[[0,0,a,b]],f=[],e={},g=Math.ceil(Math.log2(a)),l=Math.ceil(Math.log2(b)),k=Math.max(g,l),h=0;case 2:if(!(h<k)){n.i=4;break}p=d.length;m=0;case 5:if(!(m<p)){h++;n.i=2;break}if(!e[d[m].join(",")]){var v=Array.prototype.push,t=v.apply,q=d[m][0],w=d[m][1],x=d[m][2],N=d[m][3],r=R(q,x),C=R(w,N);if(2===r.length&&2===C.length)r=[[q,w,x,N]];else{q=[];for(w=0;w<r.length-1;w++)for(x=0;x<C.length-1;x++)q.push([r[w],C[x],r[w+1],
C[x+1]]);4===q.length&&(r=q[1],q[1]=q[q.length-1],q[q.length-1]=r);r=q}t.call(v,d,r);e[d[m].join(",")]=!0}0===h*m%1E4&&c(m,p,h,k);if(0!==h*m%5E3){n.i=6;break}return A(n,M(),6);case 6:m++;n.i=5;break;case 4:h=0;case 10:if(!(h<d.length)){n.i=12;break}0===h%15E4&&c(h,d.length,1,1);if(0!==h%5E4){n.i=13;break}return A(n,M(),13);case 13:e.hasOwnProperty(d[h][0]+","+d[h][1])||(e[d[h][0]+","+d[h][1]]=!0,f.push(d[h]));h++;n.i=10;break;case 12:return c(1,1,1,1),n["return"](f)}})}
function R(a,b){var c=b-a;return 1===c?[a,a+1]:[a,a+Math.ceil(c/2),b]};function S(a){return Math.hypot((a.touches&&a.touches[1]&&a.touches[1].clientX||0)-(a.touches&&a.touches[0]&&a.touches[0].clientX||0),(a.touches&&a.touches[1]&&a.touches[1].clientY||0)-(a.touches&&a.touches[0]&&a.touches[0].clientY||0))}function T(a,b,c,d,f){return{C:P(a,d,c[0],c[1]),D:P(b,f,c[2],c[3])}}
function U(a,b,c,d){var f=a.target,e=f.getBoundingClientRect(),g=(a.clientX||a.touches&&a.touches[0]&&a.touches[0].clientX||0)-e.left;a=(a.clientY||a.touches&&a.touches[0]&&a.touches[0].clientY||0)-e.top;g=g/f.clientWidth*f.width;a=a/f.clientHeight*f.height;f=g;g=a;b=T(f,g,b,c,d);return{ja:f,ka:g,C:b.C,D:b.D}}function V(a){return{O:(a[0]+a[1])/2,P:(a[2]+a[3])/2}}function W(a){return{V:(a[1]-a[0])/2,W:(a[3]-a[2])/2}}function X(a,b,c,d){return[a-c,a+c,b-d,b+d]}
function Y(a,b,c){return{ba:a*c,ca:b*c}};function aa(a){var b={canvas:a,ga:a.getContext("2d",{alpha:!1}),h:{width:a.width,height:a.height,o:[-1,1,-1,1]},l:{aa:[],U:[],M:0,$:function(){},T:function(){}},s:{R:[ba,ca,da,ea],S:0,H:1,G:0},m:{},modifiers:{j:function(){},N:function(){},qa:function(){b.h.o=[-1,1,-1,1];b.modifiers.j()}}};return b}
function fa(a){a.m.A=1E3;a.l.M=-1+a.l.U.push(function(b,c){a:{var d=a.m.A;for(var f={B:b-b,v:c-c},e={B:b,v:c},g=0;g<d;g++){if(16<K(f)){d=g;break a}f=J(f,e)}}return a.l.T(d,a.m.A)});a.modifiers.fa=function(b){a.m.A=b;a.modifiers.j()}}
function ha(a){a.m.A=1E3;a.m.X=-1;a.m.Y=0;a.l.M=-1+a.l.U.push(function(b,c){a:{var d=a.m.A;for(var f={B:b,v:c},e={B:a.m.X,v:a.m.Y},g=0;g<d;g++){if(16<K(f)){d=g;break a}f=J(f,e)}}return a.l.T(d,a.m.A)});a.modifiers.fa=function(b){a.m.A=b;a.modifiers.j()};a.modifiers.oa=function(b,c){a.m.X=b;a.m.Y=c;a.modifiers.j()}}
function ia(a,b){var c=0,d=0,f;a.addEventListener("wheel",function(e){e.preventDefault();var g=b.h,l=b.h.o,k=b.h.width,h=b.h.height,p=U(e,l,k,h),m=W(l);l=V(l);m=Y(m.V,m.W,1+.2*Math.min(Math.max(e.deltaY,-1),1));e=m.ba;m=m.ca;var n=l.O;l=l.P;k=T(p.ja,p.ka,X(n,l,e,m),k,h);g.o=X(n+(p.C-k.C),l+(p.D-k.D),e,m);b.modifiers.j()});a.addEventListener("touchmove",function(e){e.preventDefault();if(!e.touches||2===e.touches.length){var g=V(b.h.o),l=g.O;g=g.P;var k=W(b.h.o),h=k.V;k=k.W;c=d||S(e);d=S(e);f=c-d;e=
Y(h,k,1+.2*Math.min(Math.max(f,-1),1));b.h.o=X(l,g,e.ba,e.ca);b.modifiers.j()}})}
function ja(a,b){function c(){k=!1}function d(h){if(k)if(h.touches&&2===h.touches.length)k=!1;else{var p=b.h,m=l,n=e,v=g;h=U(h,m,b.h.width,b.h.height);var t=V(m);m=W(m);p.o=X(t.O-(h.C-n),t.P-(h.D-v),m.V,m.W);b.modifiers.j()}}function f(h){h.touches&&2===h.touches.length?k=!1:(h=U(h,b.h.o,b.h.width,b.h.height),e=h.C,g=h.D,l=b.h.o.slice(0),k=!0)}var e=0,g=0,l=[],k=!1;a.addEventListener("touchstart",f);a.addEventListener("touchmove",d,{passive:!0});a.addEventListener("touchend",c,{passive:!0});a.addEventListener("touchcancel",
c,{passive:!0});a.addEventListener("mousedown",f);a.addEventListener("mousemove",d);a.addEventListener("mouseup",c)}
function ka(a){a.l.T=function(b){for(var c=[],d=0;d<arguments.length;++d)c[d-0]=arguments[d];d=a.s.R[a.s.S];var f=d.apply,e=a.s.R,g=[],l=g.concat;if(!(c instanceof Array)){var k="undefined"!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];c=k?k.call(c):{next:u(c)};for(var h=[];!(k=c.next()).done;)h.push(k.value);c=h}return f.call(d,e,l.call(g,c,[a.s]))};a.modifiers.ea=function(b){a.s.S=b;a.modifiers.j()};a.modifiers.na=function(b){a.s.H=b;a.modifiers.j()};a.modifiers.ma=function(b){a.s.G=b;a.modifiers.j()};
a.modifiers.ra=function(){a.modifiers.ea((a.s.S+1)%a.s.R.length);a.modifiers.j()}}function la(a){var b=ma,c;return I(function(d){if(1==d.i)return a.l.$=function(f,e){return a.l.U[a.l.M](P(f,a.h.width,a.h.o[0],a.h.o[1]),P(e,a.h.height,a.h.o[2],a.h.o[3]))},a.modifiers.pa=function(f){a.l.M=f;a.modifiers.j()},c=a.l,A(d,Q(a.h.width,a.h.height,b),2);c.aa=d.L;d.i=0})}
function na(a){var b=oa,c;return I(function(d){if(1==d.i)return A(d,O(a.l.$,a.l.aa,a.ga,b),2);c=d.L;a.modifiers.j=c.j;a.modifiers.N=c.N;window.onfocus=a.modifiers.N;d.i=0})};function ba(a,b,c){return a===b?"#000000":"hsl(0,100%,"+(a*c.H+c.G)%100+"%)"}function ca(a,b,c){return a===b?"#000000":"hsl(0,0%,"+(a*c.H+c.G)%100+"%)"}
function da(a,b,c){function d(l,k,h){return l*(1-h)+k*h}if(a===b)return"#000000";c=(a*c.H+c.G)%400/2;100<c&&(c=200-c);var f=[6,12,102],e=[255,255,255],g=[218,106,8];a=d(f[0],e[0],2*c/100)*(50>=c)+d(e[0],g[0],2*c/100-1)*(50<c);b=d(f[1],e[1],2*c/100)*(50>=c)+d(e[1],g[1],2*c/100-1)*(50<c);c=d(f[2],e[2],2*c/100)*(50>=c)+d(e[2],g[2],2*c/100-1)*(50<c);return"rgb("+Math.floor(a)+","+Math.floor(b)+","+Math.floor(c)+")"}function ea(a,b,c){return a===b?"#000000":"hsl("+(a*c.H+c.G)%360+",100%,50%)"};var Z={},oa=function(){var a=document.querySelector("#info");return function(b,c,d,f,e){a.innerHTML="\n\t\t\t\t\t"+(e?"Idle.":"Running.")+" &nbsp;&nbsp;&nbsp;&nbsp;\n\t\t\t\t\tpixels per frame: "+d+" "}}(),ma=function(){var a=document.querySelector("#progressInfo"),b=document.getElementById("progress"),c=document.getElementById("subprogress"),d=document.getElementById("progresslabel"),f=document.getElementById("subprogresslabel");return function(e,g,l,k){c.value=Math.ceil(e/g*100);f.innerText=e+" of "+
g+" Iterations complete";b.value=Math.ceil(l/k*100);d.innerText=l+" of "+k+" Rounds complete";1===e&&1===g&&1===l&&1===k&&a.remove()}}();window.onload=function(){var a,b;return I(function(c){switch(c.i){case 1:return a=document.getElementById("viewer"),a.width=parseInt(prompt("Width?",800)),a.height=parseInt(prompt("Height?",800)),A(c,aa(a),2);case 2:return b=c.L,ha(b),fa(b),ia(b.canvas,b),ja(b.canvas,b),ka(b),A(c,la(b),3);case 3:return A(c,na(b),4);case 4:Z=b,c.i=0}})};window.viewInstance=Z;
